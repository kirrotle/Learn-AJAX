<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./JS/axios/axios.min.js"></script>

</head>

<body>
  省份:<select id="province"></select>
  城市:<select id="city"></select>
  地區:<select id="area"></select>
</body>

<script>
  axios({
    url: 'https://hmajax.itheima.net/api/province',
    type: 'get'
  }).then(function (result) {
    console.log(result);
    let el = document.querySelector('#province')
    let provinceList = result.data.list
    provinceList.map(function (province) {
      let subEl = document.createElement('option')
      subEl.setAttribute('value', province)
      subEl.innerText = province
      el.appendChild(subEl)
    })
    //透過傳回的第一個省份再去呼叫
    axios({
      url: 'https://hmajax.itheima.net/api/city',
      type: 'get',
      params: {
        pname: provinceList[0]
      }
    }).then(function (result) {
      let cityList = result.data.list
      let el = document.querySelector('#city')
      cityList.map(function (city) {
        let subEl = document.createElement('option')
        subEl.setAttribute('value', city)
        subEl.innerText = city
        el.appendChild(subEl)
      })
      //傳回省份跟城市再去呼叫
      axios({
        url: 'https://hmajax.itheima.net/api/area',
        type: 'get',
        params: {
          pname: provinceList[0],
          cname: cityList[0]
        }
      }).then(function (result) {
        console.log(result)
        let areaList = result.data.list
        let el = document.querySelector('#area')
        areaList.map(function (area) {
          let subEl = document.createElement('option')
          subEl.setAttribute('value', area)
          subEl.innerText = area
          el.appendChild(subEl)
        })
      })
    })
  })

</script>

</html>